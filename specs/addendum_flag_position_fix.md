# Addendum: Flag Position Fix Specification

## 1. 現状の課題
現在、奪取されたフラッグの位置（Y軸方向のオフセット）は、フラッグの所有者ID（'0' または '1'）に基づいて固定的に決定されている。
`src/board/Flag.tsx` の実装では、ID '0' が確保すると上方向（`-translate-y-6`）、ID '1' が確保すると下方向（`translate-y-6`）に移動する。

しかし、プレイヤーの視点（自分側が画面下、相手側が画面上）によっては、この固定的な移動が直感的でない挙動を引き起こしている。

- **Player 0 視点（通常）**:
    - 自分（Player 0）は画面下側。
    - 自分がフラッグを確保すると、フラッグは**上方向（相手側）**に移動してしまう。
    - 相手（Player 1）が確保すると、フラッグは**下方向（自分側）**に移動してしまう。
- **Player 1 視点（反転時）**:
    - 自分（Player 1）は画面下側。
    - 自分がフラッグを確保すると、フラッグは下方向（自分側）に移動する（正しい）。
    - 相手（Player 0）が確保すると、フラッグは上方向（相手側）に移動する（正しい）。

## 2. 目的
視点（Player 0 / Player 1）に関わらず、以下の挙動に統一する。

- **自分が確保したフラッグ**: 自分側（画面下方向）へ移動する。
- **相手が確保したフラッグ**: 相手側（画面上方向）へ移動する。

## 3. 実装計画

### 3.1. `src/board/Flag.tsx` の変更
- `FlagProps` インターフェースに `myID: string` を追加する。
- 移動方向の決定ロジックを以下のように変更する。
    - `flag.owner === myID` （自分が所有）の場合: `translate-y-6` （下方向＝自分側）
    - `flag.owner !== myID` （相手が所有）の場合: `-translate-y-6` （上方向＝相手側）
- 注: 色の決定ロジック（赤/青）は変更しない（ID '0' は赤、ID '1' は青のまま）。

### 3.2. `src/board/Board.tsx` の変更
- `Flag` コンポーネントを使用している箇所で、現在のプレイヤー自身のID (`myID`) をプロパティとして渡す。

## 4. 検証項目
- Player 0 でログインし、自分がフラッグを取った時に手前（下）に来るか。
- Player 0 でログインし、相手(Player 1)がフラッグを取った時に奥（上）に行くか。
- Player 1 でログインし、自分がフラッグを取った時に手前（下）に来るか。
- Player 1 でログインし、相手(Player 0)がフラッグを取った時に奥（上）に行くか。
