# スマホGame画面UI仕様書

## 1. 概要

PC向けGame画面 (`Board.tsx`) とは別に、スマホ横画面専用のコンパクトなGame画面 (`MobileBoard.tsx`) を新規作成する。

## 2. 設計方針

| 項目 | 内容 |
|------|------|
| **方式** | 案B: 別コンポーネント作成 |
| **対象画面** | Game画面のみ |
| **ターゲット** | スマホ横画面（最小375px幅） |
| **切り替え** | 画面幅 `< 640px` でスマホ版を表示 |

## 3. UIレイアウト

```
┌────────────────────────────────────────────────────────────┐
│ [相手情報バー]  手札7  |  Troop:45 Tactic:8  |  [ターン状態] │
├────────────────────────────────────────────────────────────┤
│                                                            │
│           ← フラグ9列（横スクロール可能） →                  │
│                                                            │
├────────────────────────────────────────────────────────────┤
│ [手札プレビュー]  ◆◆◆◆◆◆◆  (7枚) タップで展開  [END]    │
└────────────────────────────────────────────────────────────┘
```

### 3.1 ヘッダー（上段）

- **相手情報**: 名前 + 手札枚数（コンパクト表示）
- **山札/捨て札情報**: `T:45 D:3 | C:8 D:1` のようなテキスト表示
- **ターン状態**: `YOUR TURN` / `WAITING`

### 3.2 戦場エリア（中央）

- フラグ9列を横スクロール可能に配置
- カードサイズは現状の60×84pxを維持
- 縦方向は3枚重ねで収まるよう調整

### 3.3 フッター（下段）

- **手札プレビュー**: 
  - 通常: カード枚数とアイコン表示（小さく）
  - タップ時: モーダルで手札全体を表示、カード選択可能
- **ENDボタン**: 常時右端に表示

## 4. 手札展開モーダル

```
┌────────────────────────────────────────────────────────────┐
│                       あなたの手札                          │
├────────────────────────────────────────────────────────────┤
│                                                            │
│   [Card1] [Card2] [Card3] [Card4] [Card5] [Card6] [Card7]  │
│                                                            │
├────────────────────────────────────────────────────────────┤
│         タップしてカードを選択 / × で閉じる                  │
└────────────────────────────────────────────────────────────┘
```

## 5. コンポーネント構成

| ファイル | 役割 |
|----------|------|
| `src/board/MobileBoard.tsx` | スマホ用メインコンポーネント |
| `src/board/MobileGameInfo.tsx` | 山札/捨て札/相手情報のコンパクト表示 |
| `src/board/MobileHand.tsx` | 展開式手札（プレビュー + モーダル） |
| `src/board/Board.tsx` | 画面幅で `MobileBoard` と切り替え |

## 6. 切り替えロジック（Board.tsx）

```tsx
// Board.tsx
import { MobileBoard } from './MobileBoard';

export const BattleLineBoard = (props) => {
    const [isMobile, setIsMobile] = useState(window.innerWidth < 640);
    
    useEffect(() => {
        const handleResize = () => setIsMobile(window.innerWidth < 640);
        window.addEventListener('resize', handleResize);
        return () => window.removeEventListener('resize', handleResize);
    }, []);
    
    if (isMobile) {
        return <MobileBoard {...props} />;
    }
    
    // 既存のPC向けUIをそのまま返す
    return (/* 既存コード */);
};
```

## 7. 検証項目

- [ ] 375px幅（横画面）でフラグ9列がスクロールで閲覧可能
- [ ] 手札タップでモーダル展開、カード選択→配置が可能
- [ ] 山札/捨て札の情報がテキストで確認可能
- [ ] ENDボタンが常時表示され操作可能
- [ ] PC版（640px以上）では既存UIが維持される
