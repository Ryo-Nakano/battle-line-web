# ニックネーム機能とルームID制限の仕様

## 概要
プレイヤーがロビーでニックネームを設定できるようにし、ゲーム内で表示する。また、ルームIDとニックネームに入力制限を設ける。

## 要件

### 1. ロビー画面 (`Lobby.tsx`)
- **ニックネーム入力**:
    - 半角英数字のみ。
    - 最大8文字。
    - 初期値: ランダムな文字列（例: `Guest` + ランダムな数字、またはランダムな英数字）。
    - ユーザーが編集可能。
- **ルームID入力**:
    - 半角英数字のみ。
    - 最大8文字。
- **バリデーション**:
    - 入力制限（文字種、文字数）をUI側で強制する（入力時にフィルタリング）。

### 2. データ連携 (`App.tsx`, `Game.js`)
- **データフロー**:
    - `Lobby` で決定したニックネームを `App` コンポーネントの状態として保持。
    - `App` から `BattleLineClient` (Board) へプロップスとして渡す。
- **ゲーム状態 (`G`)**:
    - `playerNames`: `{ '0': string, '1': string }` を追加。
    - 初期値は `null` またはデフォルト名。
- **Move**:
    - `setName(name)`: プレイヤーが自分の名前を `G` に登録するための Move を追加。

### 3. ゲーム画面 (`Board.tsx`)
- **名前の同期**:
    - ボード描画時（または `playerName` プロップス変更時）、`G.playerNames[playerID]` が現在のニックネームと異なる場合、`setName` Move を呼び出して同期する。
- **表示**:
    - 自分と対戦相手のニックネームを画面上に表示する。
    - ミニゲーム画面、メインゲーム画面の両方で表示。

## 実装計画
1.  `src/Game.js`: `G.playerNames` の初期化と `setName` move の追加。
2.  `src/App.tsx`: `playerName` state の追加と `BattleLineClient` への受け渡し。
3.  `src/Lobby.tsx`: ニックネーム入力欄の追加、バリデーション実装、ランダム生成ロジック。
4.  `src/board/Board.tsx`: `setName` 呼び出しロジックと名前表示の実装。
